include colors

### Variables

  set $mod Mod4

# Home row direction keys, like vim
  set $left h
  set $down j
  set $up k
  set $right l

# Terminal Emulator
  set $term footclient

# Launcher
  set $menu rofi -show drun

### Output configuration

  output * {
    bg ~/.local/share/backgrounds/arch.png fill
    scale 1
    max_render_time off
  }
{{ if eq .chezmoi.hostname "headroom" }}
  output HDMI-A-2 {
    mode 1920x1080@143.088Hz
    allow_tearing yes
    pos 0 0
  }

  output HDMI-A-1 {
    mode 1440x900@75.025Hz
    pos 1920 180
  }
{{ end }}
  exec_always xrandr --output $(xrandr | grep -m 1 +0+0 | awk '{print $1;}') --primary

### Input configuration

  input type:keyboard {
    xkb_numlock enabled
  }

  input type:pointer {
    accel_profile flat
  }

  input type:touchpad {
    accel_profile adaptive
    dwt disabled
    tap enabled
    natural_scroll enabled
  }

  input type:keyboard {
    xkb_layout "us"
  }

### Appearance

  # seat seat0 xcursor_theme BreezeX-RosePine-Linux 36

  gaps inner 0
  smart_gaps on
  smart_borders no_gaps
  # hide_edge_borders smart_no_gaps
  default_border pixel 2
  default_floating_border pixel 2

### Behavior

  focus_wrapping yes
  focus_follows_mouse yes
  focus_on_window_activation focus
  mouse_warping output
  workspace_layout default
  workspace_auto_back_and_forth no

  for_window [ all ] allow_tearing yes
  for_window [ title = "Picture-in-Picture" ] {
    floating enable
    sticky enable
  }

  assign [ class = "discord" ] 10

### Key bindings

  # Open a terminal
  bindsym $mod+Return exec $term

  # Close focused window
  bindsym $mod+c kill
  # Force kill focused window
  bindsym $mod+x kill -9 $(swaymsg -t get_tree | jq '.. | select(.type?) | select(.focused==true) | .pid')

  # Start your launcher
  bindsym $mod+r exec $menu

  # Drag windows with $mod+left click, resize with $mod+right click.
  floating_modifier $mod normal

  # Reload the configuration file
  bindsym $mod+Shift+c exec systemctl --user reload waybar && swaymsg reload

  # Exit sway (logs you out of your Wayland session)
  bindsym $mod+q exec uwsm stop

  # Move focus
  bindsym $mod+$left focus left
  bindsym $mod+$down focus down
  bindsym $mod+$up focus up
  bindsym $mod+$right focus right
  # With arrow keys
  bindsym $mod+Left focus left
  bindsym $mod+Down focus down
  bindsym $mod+Up focus up
  bindsym $mod+Right focus right

  # Move windows
  bindsym $mod+Shift+$left move left
  bindsym $mod+Shift+$down move down
  bindsym $mod+Shift+$up move up
  bindsym $mod+Shift+$right move right
  # With arrow keys
  bindsym $mod+Shift+Left move left
  bindsym $mod+Shift+Down move down
  bindsym $mod+Shift+Up move up
  bindsym $mod+Shift+Right move right

# Workspaces

  # Cycle workspaces
  bindsym --whole-window $mod+button4 workspace prev_on_output
  bindsym --whole-window $mod+button5 workspace next_on_output
  bindgesture swipe:right workspace prev_on_output
  bindgesture swipe:left workspace next_on_output
  bindgesture swipe:down workspace prev_on_output
  bindgesture swipe:up workspace next_on_output
  # Switch to workspace
  bindsym $mod+1 workspace number 1
  bindsym $mod+2 workspace number 2
  bindsym $mod+3 workspace number 3
  bindsym $mod+4 workspace number 4
  bindsym $mod+5 workspace number 5
  bindsym $mod+6 workspace number 6
  bindsym $mod+7 workspace number 7
  bindsym $mod+8 workspace number 8
  bindsym $mod+9 workspace number 9
  bindsym $mod+0 workspace number 10
  # Move focused container to workspace
  bindsym $mod+Shift+1 move container to workspace number 1
  bindsym $mod+Shift+2 move container to workspace number 2
  bindsym $mod+Shift+3 move container to workspace number 3
  bindsym $mod+Shift+4 move container to workspace number 4
  bindsym $mod+Shift+5 move container to workspace number 5
  bindsym $mod+Shift+6 move container to workspace number 6
  bindsym $mod+Shift+7 move container to workspace number 7
  bindsym $mod+Shift+8 move container to workspace number 8
  bindsym $mod+Shift+9 move container to workspace number 9
  bindsym $mod+Shift+0 move container to workspace number 10

# Layout

  bindsym $mod+m split none
  bindsym $mod+n split toggle

  # Switch the current container between different layout styles
  bindsym $mod+s layout stacking
  bindsym $mod+w layout tabbed

  # Make the current focus fullscreen
  bindsym $mod+f fullscreen

  # Toggle the current focus between tiling and floating mode
  bindsym $mod+v floating toggle

  # Pin the floating focus to all workspaces
  bindsym $mod+p sticky toggle

  # Swap focus between the tiling area and the floating area
  bindsym $mod+space focus mode_toggle

  # Move focus to the parent container
  bindsym $mod+a focus parent

  # Take a screenshot
  bindsym $mod+shift+s exec grim -g "$(slurp)" - | swappy -f -

# Scratchpad:
  
  # Move the currently focused window to the scratchpad
  bindsym $mod+Shift+minus move scratchpad

  # Cycle the scratchpad
  bindsym $mod+minus scratchpad show

# Resizing containers:

  mode "r" {
    # Resize containers
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px
    # With arrow keys
    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px

    # Return to default mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym q mode "default"
    bindsym $mod+d mode "default"
  }
  bindsym $mod+d mode "r"

# Utilities:

  bindsym --locked XF86AudioMute exec pactl set-sink-mute \@DEFAULT_SINK@ toggle
  bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume \@DEFAULT_SINK@ -5%
  bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume \@DEFAULT_SINK@ +5%
  bindsym --locked XF86AudioMicMute exec pactl set-source-mute \@DEFAULT_SOURCE@ toggle
  # Special keys to adjust brightness via brightnessctl
  bindsym --locked XF86MonBrightnessDown exec brightnessctl set 5%-
  bindsym --locked XF86MonBrightnessUp exec brightnessctl set 5%+
  # Special key to take a screenshot with grim
  bindsym Print exec grim

include /etc/sway/config.d/*

